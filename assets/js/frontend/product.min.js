var LSProductClass=function(){"use strict";var a=this;this.init=function(){if(jQuery(".product-template-1").length&&jQuery("#swipe-slick-gallery").length&&(a.initVerticalSlickImages(),a.changeMainImage(),a.photoSwipe()),jQuery(".product-template-2").length){var b=jQuery(".images ").outerHeight(),c=jQuery(".summary").outerHeight();b>c&&(a.stickySummary(),jQuery(window).scroll(function(){a.stickySummary()}),jQuery(window).resize(function(){a.stickySummary()})),jQuery("#swipe-slick-gallery").length&&(a.changeMainImage(),a.photoSwipe()),a.zoomProductImages(),jQuery(window).resize(function(){a.zoomProductImages()})}if(jQuery(".product-template-3").length&&jQuery("#swipe-slick-gallery").length&&(a.initSlickImages(),a.changeMainImage(),a.photoSwipe()),jQuery("a.woocommerce-review-link").on("click",function(a){a.preventDefault(),jQuery(".reviews_tab a").click(),jQuery("body, html").animate({scrollTop:jQuery("#reviews").offset().top},"slow")}),"yes"===wc_single_product_params.review_rating_required)var d=new Validation("commentform");jQuery("body").off("click","#respond #submit").on("click","#respond #submit",function(){var a=jQuery(this).closest("#respond").find("#rating"),b=a.val(),c=d.validate(),e=jQuery(".comment-form-rating #advice-required-rating");return a.length>0&&!b&&"yes"===wc_single_product_params.review_rating_required?(e.length?e.html(wc_single_product_params.i18n_required_rating_text):jQuery(".comment-form-rating").append('<div class="validation-advice" id="advice-required-rating">'+wc_single_product_params.i18n_required_rating_text+"</div>"),c&=!1):e.length&&e.html(""),c&&jQuery(this).addClass("disabled"),Boolean(c)})},this.zoomProductImages=function(){var b=jQuery(".zoomContainer").length,c=jQuery(".slick-initialized").length;window.innerWidth>767?(b?(a.destroyElevateZoomImage(),a.initElevateZoomImage()):a.initElevateZoomImage(),c&&a.destroySlickImages()):(c||a.initSlickImages(),b&&a.destroyElevateZoomImage())},this.stickySummary=function(){var a=jQuery(".summary");if(window.innerWidth>767){var b=jQuery(document).scrollTop(),c=jQuery("#main"),d=jQuery(".images"),e=jQuery("header.header-default").outerHeight()+20,f=d.height()-a.height(),g=d.outerWidth(!0),h=c.width()-g;b>d.offset().top-e?b>d.offset().top-e+f?(a.removeAttr("style").removeClass("summary-fixed").addClass("summary-absolute"),a.css({"margin-top":f,"margin-left":g,width:h})):(a.removeAttr("style").removeClass("summary-absolute").addClass("summary-fixed"),a.css({top:e,"margin-left":g,width:h})):a.removeAttr("style").removeClass("summary-fixed summary-absolute")}else a.removeAttr("style").removeClass("summary-fixed summary-absolute")},this.destroySlickImages=function(){jQuery(".thumbnail-nav").slick("unslick")},this.initSlickImages=function(){jQuery(".thumbnail-nav").slick({variableWidth:!1,dots:!1,focusOnSelect:!0,infinite:!1,slidesToShow:4,slidesToScroll:1,respondTo:"slider",breakpoint:762,responsive:[{breakpoint:762,slidesToShow:4,slidesToScroll:4},{breakpoint:520,settings:{slidesToShow:3,slidesToScroll:3}}]})},this.initVerticalSlickImages=function(){jQuery(".thumbnail-nav").slick({variableWidth:!1,dots:!1,infinite:!1,swipe:!1,slidesToShow:4,slidesToScroll:1,adaptiveHeight:!0,vertical:!0,respondTo:"slider",breakpoint:762,responsive:[{breakpoint:762,settings:{slidesToShow:4,slidesToScroll:1}}]})},this.changeMainImage=function(){var a=jQuery(".single-product-main-image img");a.length||(a=jQuery("#swipe-slick-gallery > img"),a.wrap('<a class="woocommerce-main-image zoom" href="#"></a>'),jQuery(".woocommerce-main-image").wrap('<div class="single-product-main-image"></div>')),jQuery(".thumbnails .thumb").click(function(b){b.preventDefault();var c=jQuery(this),d=c.attr("data-med"),e=c.attr("data-medw"),f=c.attr("data-medh"),g=c.attr("data-hq"),h=c.attr("data-w"),i=c.attr("data-h"),j=c.parent().index();a.attr("data-ind",j).attr("src",d).attr("srcset",d).attr("width",e).attr("height",f).attr("data-hq",g).attr("data-w",h).attr("data-h",i)})},this.photoSwipe=function(){function f(a){var c=a.attributes["data-hq"].value,d=a.attributes["data-w"].value,e=a.attributes["data-h"].value,f={src:c,w:d,h:e};b.push(f)}function g(c){var d={index:c,shareEl:!1},e=new PhotoSwipe(a,PhotoSwipeUI_Default,b,d);e.init()}var a=document.querySelectorAll(".pswp")[0],b=[];if(jQuery("a.zoom").unbind("click"),jQuery(".thumbnails .thumb").length>0)for(var c=jQuery(".thumbnails .thumb"),d=0;d<c.length;d++)f(c[d]);else if(jQuery(".single-product-main-image").length>0){var e=jQuery(".single-product-main-image img")[0];f(e)}jQuery(".single-product-main-image").length>0&&jQuery(".single-product-main-image").click(function(a){if(2!=a.which&&!a.ctrlKey&&!a.altKey){var b=jQuery(this).find("img").attr("data-ind");a.preventDefault();var c=b?parseInt(b):0;g(c)}})},this.initElevateZoomImage=function(){jQuery(".thumbnails .thumb").length&&jQuery(".thumbnails .thumb img").elevateZoom({zoomType:"inner",cursor:"crosshair",containLensZoom:!0,responsive:!0,zoomWindowFadeIn:500,zoomWindowFadeOut:750})},this.destroyElevateZoomImage=function(){jQuery(".thumbnails .thumb").length&&(jQuery.removeData(jQuery(".thumbnails .thumb img"),"elevateZoom"),jQuery(".zoomContainer").remove())}};jQuery(document).ready(function(){var a=new LSProductClass;jQuery("body").hasClass("single-product")&&a.init()});
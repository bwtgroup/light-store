jQuery(function(a){jQuery("table.cart .qty").on("change",function(){var a=jQuery(this),b=jQuery(this).attr("name").match(/cart\[(\w+)\]/),c=b[1],d=jQuery(this).val();return jQuery(document.body).trigger("body_curtain_on"),jQuery.ajax({type:"POST",dataType:"json",url:"/wp-admin/admin-ajax.php",data:{action:"ls_product_update_qty",cart_item_key:c,cart_item_qty:d},success:function(b){jQuery(document.body).trigger("body_curtain_off"),1==b.status&&(jQuery(document.body).trigger("adding_to_cart"),jQuery(".cart-collaterals .sub-total").html(b.subtotal),a.closest(".cart_item").find(".product-subtotal").html(b.price),jQuery(".header-cart .total-count").html(b.totalCount),0==a.val()&&a.closest("tr").remove())}}),!1}),jQuery(".ajax-remove-cart-item").on("click",function(a){a.preventDefault(),a.stopPropagation();var b=jQuery(this);jQuery(document.body).trigger("body_curtain_on");var c=jQuery(this).data("item-key");return jQuery.ajax({type:"POST",dataType:"json",url:"/wp-admin/admin-ajax.php",data:{action:"ls_product_remove",cart_item_key:c},success:function(a){jQuery(document.body).trigger("body_curtain_off"),1==a.status&&(a.totalCount<=0?jQuery("#cart-table").html("Your cart is currently empty."):(b.closest("tr").remove(),jQuery(".cart-collaterals .sub-total").html(a.subtotal)),jQuery(".header-cart .total-count").html(a.totalCount))}}),!1})});
/*!
 * Bootstrap Confirmation
 * Copyright 2013 Nimit Suwannagate <ethaizone@hotmail.com>
 * Copyright 2014-2016 Damien "Mistic" Sorel <contact@git.strangeplanet.fr>
 * Licensed under the Apache License, Version 2.0
 */
!function(a){"use strict";function d(a){for(var b=window,c=a.split("."),d=c.pop(),e=0,f=c.length;e<f;e++)b=b[c[e]];return function(){b[d].call(this)}}var b;if(!a.fn.popover)throw new Error("Confirmation requires popover.js");var c=function(a,b){b.trigger="click",this.init(a,b)};c.VERSION="2.4.0",c.KEYMAP={13:"Enter",27:"Escape",39:"ArrowRight",40:"ArrowDown"},c.DEFAULTS=a.extend({},a.fn.popover.Constructor.DEFAULTS,{placement:"left",title:"Are you sure?",popout:!1,singleton:!0,copyAttributes:"href target",buttons:null,onConfirm:a.noop,onCancel:a.noop,btnOkClass:"btn-xs btn-primary",btnOkIcon:"glyphicon glyphicon-ok",btnOkLabel:"Yes",btnCancelClass:"btn-xs btn-default",btnCancelIcon:"glyphicon glyphicon-remove",btnCancelLabel:"No",template:'<div class="popover confirmation"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"><p class="confirmation-content"></p><div class="confirmation-buttons text-center"><div class="btn-group"><a href="#" class="btn" data-apply="confirmation"></a><a href="#" class="btn" data-dismiss="confirmation"></a></div></div></div></div>'}),c.prototype=a.extend({},a.fn.popover.Constructor.prototype),c.prototype.constructor=c,c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.init=function(b,c){if(a.fn.popover.Constructor.prototype.init.call(this,"confirmation",b,c),(this.options.popout||this.options.singleton)&&!c.rootSelector)throw new Error("The rootSelector option is required to use popout and singleton features since jQuery 3.");this.options._isDelegate=!1,c.selector?this.options._selector=this._options._selector=c.rootSelector+" "+c.selector:c._selector?(this.options._selector=c._selector,this.options._isDelegate=!0):this.options._selector=c.rootSelector;var d=this;this.options.selector?this.$element.on(this.options.trigger,this.options.selector,function(a,b){b||(a.preventDefault(),a.stopPropagation(),a.stopImmediatePropagation())}):(this.options._attributes={},this.options.copyAttributes?"string"==typeof this.options.copyAttributes&&(this.options.copyAttributes=this.options.copyAttributes.split(" ")):this.options.copyAttributes=[],this.options.copyAttributes.forEach(function(a){this.options._attributes[a]=this.$element.attr(a)},this),this.$element.on(this.options.trigger,function(a,b){b||(a.preventDefault(),a.stopPropagation(),a.stopImmediatePropagation())}),this.$element.on("show.bs.confirmation",function(b){d.options.singleton&&a(d.options._selector).not(a(this)).filter(function(){return void 0!==a(this).data("bs.confirmation")}).confirmation("hide")})),this.options._isDelegate||(this.eventBody=!1,this.uid=this.$element[0].id||this.getUID("group_"),this.$element.on("shown.bs.confirmation",function(b){d.options.popout&&!d.eventBody&&(d.eventBody=a("body").on("click.bs.confirmation."+d.uid,function(b){a(d.options._selector).is(b.target)||(a(d.options._selector).filter(function(){return void 0!==a(this).data("bs.confirmation")}).confirmation("hide"),a("body").off("click.bs."+d.uid),d.eventBody=!1)}))}))},c.prototype.hasContent=function(){return!0},c.prototype.setContent=function(){var c=this,d=this.tip(),f=(this.getTitle(),this.getContent());if(d.find(".confirmation-content").toggle(!!f).children().detach().end()[this.options.html?"string"==typeof f?"html":"append":"text"](f),d.on("click",function(a){a.stopPropagation()}),this.options.buttons){var g=d.find(".confirmation-buttons .btn-group").empty();this.options.buttons.forEach(function(b){g.append(a('<a href="#"></a>').addClass(b.class||"btn btn-xs btn-default").html(b.label||"").attr(b.attr||{}).prepend(a("<i></i>").addClass(b.icon)," ").one("click",function(d){"#"===a(this).attr("href")&&d.preventDefault(),b.onClick&&b.onClick.call(c.$element),b.cancel?(c.getOnCancel.call(c).call(c.$element),c.$element.trigger("canceled.bs.confirmation")):(c.getOnConfirm.call(c).call(c.$element),c.$element.trigger("confirmed.bs.confirmation")),c.inState&&(c.inState.click=!1),c.hide()}))},this)}else d.find('[data-apply="confirmation"]').addClass(this.options.btnOkClass).html(this.options.btnOkLabel).attr(this.options._attributes).prepend(a("<i></i>").addClass(this.options.btnOkIcon)," ").off("click").one("click",function(b){"#"===a(this).attr("href")&&b.preventDefault(),c.getOnConfirm.call(c).call(c.$element),c.$element.trigger("confirmed.bs.confirmation"),c.$element.trigger(c.options.trigger,[!0]),c.hide()}),d.find('[data-dismiss="confirmation"]').addClass(this.options.btnCancelClass).html(this.options.btnCancelLabel).prepend(a("<i></i>").addClass(this.options.btnCancelIcon)," ").off("click").one("click",function(a){a.preventDefault(),c.getOnCancel.call(c).call(c.$element),c.$element.trigger("canceled.bs.confirmation"),c.inState&&(c.inState.click=!1),c.hide()});d.removeClass("fade top bottom left right in"),d.find(".popover-title").html()||d.find(".popover-title").hide(),b=this,a(window).off("keyup.bs.confirmation").on("keyup.bs.confirmation",this._onKeyup.bind(this))},c.prototype.destroy=function(){b===this&&(b=void 0,a(window).off("keyup.bs.confirmation")),a.fn.popover.Constructor.prototype.destroy.call(this)},c.prototype.hide=function(){b===this&&(b=void 0,a(window).off("keyup.bs.confirmation")),a.fn.popover.Constructor.prototype.hide.call(this)},c.prototype._onKeyup=function(d){if(!this.$tip)return b=void 0,void a(window).off("keyup.bs.confirmation");var h,e=d.key||c.KEYMAP[d.keyCode||d.which],f=this.$tip.find(".confirmation-buttons .btn-group"),g=f.find(".active");switch(e){case"Escape":this.hide();break;case"ArrowRight":h=g.length&&g.next().length?g.next():f.children().first(),g.removeClass("active"),h.addClass("active").focus();break;case"ArrowLeft":h=g.length&&g.prev().length?g.prev():f.children().last(),g.removeClass("active"),h.addClass("active").focus()}},c.prototype.getOnConfirm=function(){return this.$element.attr("data-on-confirm")?d(this.$element.attr("data-on-confirm")):this.options.onConfirm},c.prototype.getOnCancel=function(){return this.$element.attr("data-on-cancel")?d(this.$element.attr("data-on-cancel")):this.options.onCancel};var e=a.fn.confirmation;a.fn.confirmation=function(b){var d="object"==typeof b&&b||{};return d.rootSelector=this.selector||d.rootSelector,this.each(function(){var e=a(this),f=e.data("bs.confirmation");(f||"destroy"!=b)&&(f||e.data("bs.confirmation",f=new c(this,d)),"string"==typeof b&&(f[b](),"hide"==b&&f.inState&&(f.inState.click=!1)))})},a.fn.confirmation.Constructor=c,a.fn.confirmation.noConflict=function(){return a.fn.confirmation=e,this}}(jQuery);